<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æˆ‘çš„å…¬ä¼—å·</title>
  <style>
    body { font-family: -apple-system, sans-serif; padding: 15px; background: #f5f5f7; }
    .article { background: white; margin: 10px 0; padding: 12px; border-radius: 10px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .title { font-size: 18px; color: #000; text-decoration: none; }
    .title:hover { color: #0078d4; text-decoration: underline; }
    .source { font-size: 12px; color: #888; margin-top: 4px; }
    .date { font-size: 11px; color: #aaa; }
    .error { color: red; margin: 10px 0; padding: 10px; background: #fff0f0; border-radius: 5px; }
    .status { font-size: 14px; color: #666; margin: 10px 0; }
    .refresh-btn { background: #0078d4; color: white; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer; margin-top: 10px; }
    .refresh-btn:hover { background: #005a9e; }
  </style>
</head>
<body>
  <h1>æœªè¯»å…¬ä¼—å·æ–‡ç« </h1>
  <div id="status" class="status">åŠ è½½ä¸­...</div>
  <div id="error" class="error" style="display: none;"></div>
  <div id="articles"></div>
  <button id="refreshBtn" class="refresh-btn">åˆ·æ–°å†…å®¹</button>

  <script>
    // ğŸ‘‡ åœ¨è¿™é‡Œå¡«å†™ä½ è¦ç›‘æ§çš„å…¬ä¼—å· IDï¼ˆä» er.shi.ci.mi è·å–ï¼‰
    const wechatIds = [
      'hr_tech',
      'hr_recruitment'
    ];

    // å…¬ä¼—å·æ–‡ç« æ•°æ®
    const articlesData = [
      // HRç§‘æŠ€ (hr_tech) å…¬ä¼—å·å†…å®¹
      {
        title: "2024å¹´äººåŠ›èµ„æºæ•°å­—åŒ–è½¬å‹è¶‹åŠ¿æŠ¥å‘Š",
        link: "#",
        date: new Date().toLocaleString('zh-CN'),
        source: "hr_tech"
      },
      {
        title: "AIå¦‚ä½•é‡å¡‘ä¼ä¸šæ‹›è˜æµç¨‹ä¸äººæ‰ç®¡ç†",
        link: "#",
        date: new Date(Date.now() - 86400000).toLocaleString('zh-CN'),
        source: "hr_tech"
      },
      {
        title: "è¿œç¨‹åŠå…¬ç¯å¢ƒä¸‹çš„å›¢é˜Ÿæ–‡åŒ–å»ºè®¾ç­–ç•¥",
        link: "#",
        date: new Date(Date.now() - 172800000).toLocaleString('zh-CN'),
        source: "hr_tech"
      },
      // HRæ‹›è˜ (hr_recruitment) å…¬ä¼—å·å†…å®¹
      {
        title: "å¦‚ä½•æœ‰æ•ˆå¸å¼•å’Œç•™ä½é«˜æ½œåŠ›äººæ‰",
        link: "#",
        date: new Date(Date.now() - 43200000).toLocaleString('zh-CN'),
        source: "hr_recruitment"
      },
      {
        title: "æ‹›è˜é¢è¯•ä¸­çš„STARæ³•åˆ™åº”ç”¨æŒ‡å—",
        link: "#",
        date: new Date(Date.now() - 216000000).toLocaleString('zh-CN'),
        source: "hr_recruitment"
      },
      {
        title: "æ„å»ºå¤šå…ƒåŒ–æ‹›è˜æ¸ é“çš„æœ€ä½³å®è·µ",
        link: "#",
        date: new Date(Date.now() - 288000000).toLocaleString('zh-CN'),
        source: "hr_recruitment"
      }
    ];

    function getArticles() {
      // è·å–å…¬ä¼—å·æ–‡ç« æ•°æ®
      console.log('è·å–å…¬ä¼—å·æ–‡ç« æ•°æ®');
      
      // æ·±æ‹·è´æ•°æ®ï¼Œé¿å…å¼•ç”¨é—®é¢˜
      const articles = JSON.parse(JSON.stringify(articlesData));
      
      // æ›´æ–°æ–‡ç« æ—¥æœŸä¸ºç›¸å¯¹æ—¶é—´
      articles.forEach(article => {
        if (article.source === 'yujiantouzi') {
          // éƒè§æŠ•èµ„å…¬ä¼—å·çš„æ–‡ç« æ—¥æœŸ
          const days = Math.floor(Math.random() * 5);
          article.date = new Date(Date.now() - days * 86400000).toLocaleString('zh-CN');
        } else if (article.source === 'ticaiyanjiushi') {
          // é¢˜æç ”ç©¶æ‰€å…¬ä¼—å·çš„æ–‡ç« æ—¥æœŸ
          const days = Math.floor(Math.random() * 7);
          article.date = new Date(Date.now() - days * 86400000).toLocaleString('zh-CN');
        }
      });
      
      return articles;
    }

    function displayArticles() {
      try {
        document.getElementById('status').textContent = 'æ­£åœ¨åŠ è½½æ–‡ç« ...';
        document.getElementById('error').style.display = 'none';
        
        // è·å–æ–‡ç« æ•°æ®ï¼ˆè¿™é‡Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼‰
        const articles = getArticles();
        
        // æŒ‰æ—¶é—´å€’åºæ’åº
        articles.sort((a, b) => new Date(b.date) - new Date(a.date));
        
        // æ¸…ç©ºå®¹å™¨å¹¶æ˜¾ç¤ºæ–‡ç« 
        const container = document.getElementById('articles');
        container.innerHTML = '';
        
        articles.forEach(a => {
          const div = document.createElement('div');
          div.className = 'article';
          
          // æ ¹æ®å…¬ä¼—å·æ¥æºæ·»åŠ ä¸åŒçš„æ ·å¼æ ‡è¯†
          const sourceColor = a.source === 'yujiantouzi' ? '#1a73e8' : '#34a853';
          div.innerHTML = `
            <a class="title" href="${a.link}" target="_blank">${a.title}</a>
            <div class="source" style="color: ${sourceColor};">
              æ¥æºï¼š${a.source === 'yujiantouzi' ? 'éƒè§æŠ•èµ„' : 'é¢˜æç ”ç©¶æ‰€'}
            </div>
            <div class="date">${a.date}</div>
          `;
          container.appendChild(div);
        });
        
        document.getElementById('status').textContent = `å…±æ˜¾ç¤º ${articles.length} ç¯‡æ–‡ç« ï¼ˆéƒè§æŠ•èµ„ & é¢˜æç ”ç©¶æ‰€ï¼‰`;
        
      } catch (e) {
        console.error('æ˜¾ç¤ºæ–‡ç« æ—¶å‡ºé”™:', e);
        document.getElementById('error').textContent = `æ˜¾ç¤ºé”™è¯¯: ${e.message}`;
        document.getElementById('error').style.display = 'block';
        document.getElementById('status').textContent = 'åŠ è½½å¤±è´¥';
      }
    }

    // æ·»åŠ åˆ·æ–°æŒ‰é’®åŠŸèƒ½
    document.getElementById('refreshBtn').addEventListener('click', function() {
      this.disabled = true;
      this.textContent = 'åˆ·æ–°ä¸­...';
      
      // é‡æ–°åŠ è½½æ–‡ç« 
      displayArticles();
      
      // æ¢å¤æŒ‰é’®çŠ¶æ€
      setTimeout(() => {
        this.disabled = false;
        this.textContent = 'åˆ·æ–°å†…å®¹';
      }, 1000);
    });

    // æ·»åŠ é”™è¯¯å¤„ç†
    window.onerror = function(message, source, lineno, colno, error) {
      console.error('å…¨å±€é”™è¯¯:', message, error);
      document.getElementById('error').textContent = `JavaScripté”™è¯¯: ${message}`;
      document.getElementById('error').style.display = 'block';
      return true;
    };

    // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºæ–‡ç« 
    displayArticles();
  </script>
</body>
</html>
